# HVAuto

使用前请将cookie存入cookie.txt文件中
请务必观察AI.txt文件，并适当调整参数
使用本程序前请提前从网页进入战斗

## AI.txt语法简介

每一行为一条语句，语句共有3类



### 条件语句

* 比较
	* 格式：变量 运算符 数据
	* 变量
		* health
		* mana
		* spirit
		* charge
	* 运算符
		* $<$
		* $>$
		* $<=$
		* $>=$
		* $=$
		* $!=$
	* 数据
	    * 任何实数
* 效果
    * 格式：EFF|NOEFF '效果名称'
    * EFF表示自己拥有该效果，NOEFF反之
* 物品
    * 格式：HAS '物品名称'
    * 这个语句仅判断P栏位的物品（即各类宝石）
* 灵动架势
    * 格式：SPIRIT|NOTSPIRIT
    * SPIRIT表示开启，NOTSPIRIT反之

### 对象排序语句

排序语句有二元的筛选排序和纯粹的排序

排序语句越靠前，优先级越高

* 丢弃
    * 格式：DROP
    * 该语句会使丢弃前一条二元排序语句直接丢弃不符合的怪物，而不是放置在符合的后面

* 效果

    * 格式：M_EFF|M_NOEFF '效果名称'
    * M_EFF将筛选出包含该效果的怪物
    * M_NOEFF反之

* boss

    * 格式：M_BOSS|M_NOTBOSS

    * M_BOSS将筛选出boss的怪物
    * M_NOTBOSS反之

* 排序

    * 格式：SORT 变量 运算符
    * 变量类似比较语句，不过对怪物而言health和id可能是唯一有用的参数
    * 运算符只能是$<$或$>$。
    * 小于会将数据较小的排在前面

* 合并

    * 格式：AND
        * 使前两个条件合并为一个条件，该条件达成的前提是这两个条件均达成，即与运算。
        * 这个语句本身意义不大，因为使用前的条件均需达成，故天然是与运算。这个操作的主要价值是配合后面的OR
    * 格式：OR
        * 使前两个条件合并为一个条件，该条件达成的前提是这两个条件其一达成，即或运算。

### 操作语句

* 使用
    * 格式：USE '物品名称'
        * 尝试使用物品，如果找不到，仍在冷却，则不使用
    * 格式：USE ITEMP
        * 尝试使用P物品（即宝石）
* 释放
    * 格式：CAST '技能名称'
    * 格式：CASTTO '技能名称'
        * CASTTO需要通过对象排序语句来确定释放对象
* 灵动架势
    * 格式：TRIGSPIRIT
        * 开启和关闭均是这一指令，需要自行判断当前情况
* 普通攻击
    * 格式：ATTACK
        * 需要确定对象

### 例子

	charge >= 7
	M_EFF 'Bleeding Wound'
	DROP
	M_BOSS
	SORT health >
	CASTTO 'Merciful Blow'

如果`斗气`不少于7，则选择含有`流血`效果的怪物，并舍弃不含该效果的怪物，然后优先选择boss，然后在boss中选择血量最高的（如果没有boss，则在非boss中选择血量最高的），对其释放`最后的慈悲`。

```
HAS 'Mystic Gem'
EFF ’Channeling'
health < 4000
NOEFF 'Regen'
AND
NOEFF 'Protection'
OR
USE ITEMP
```

如果拥有`神秘宝石`，并且没有`引导`效果，则若血量少于4000且没有`恢复`效果，或没有`护盾`效果，则使用P物品。